// モーダルの中身をshowビューに置き換える
var modal = document.getElementById('modal');
modal.innerHTML = '<%= escape_javascript(render partial: 'posts/show', locals: { post: @post, post_comment: @post_comment }) %>';

// モーダル要素とマスク要素を取得
var modalElement = document.getElementById('modal');
var maskElement = document.getElementById('mask');
// 閉じるボタンを取得
var close = document.getElementById('modal-close');

// 閉じるボタンをクリックしたらモーダルを閉じる
close.addEventListener('click', () => {

  modal.classList.add('hidden');
  mask.classList.add('hidden');
  });

// モーダルを表示する関数
function openModal() {
  modalElement.classList.remove('hidden');
  maskElement.classList.remove('hidden');
  close.classList.remove('hidden');
  document.body.classList.add('no-scroll');
}

// モーダルを閉じる関数
function closeModal() {
  modalElement.classList.add('hidden');
  maskElement.classList.add('hidden');
  document.body.classList.remove('no-scroll');
}

// 閉じるボタンをクリックしたらモーダルを閉じる
var close = document.getElementById('modal-close');
close.addEventListener('click', closeModal);

// モーダルの外側（マスク）をクリックするとモーダルを閉じる
maskElement.addEventListener('click', closeModal);

// モーダルの背景でのクリックイベントをキャプチャして無効化
maskElement.addEventListener('click', function(event) {
  event.stopPropagation();
});

// swiperの記述
var swiper = new Swiper('.swiper', {
  // Optional parameters
  loop: true,

  // If we need pagination
  pagination: {
    el: '.swiper-pagination',
  },

  // Navigation arrows
  navigation: {
    nextEl: '.swiper-button-next',
    prevEl: '.swiper-button-prev',
  },
})


// モーダルを開く処理
openModal();